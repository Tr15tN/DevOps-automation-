global
    log stdout format raw local0
    daemon

defaults
    log     global
    mode    http
    option  httplog
    option  dontlognull
    timeout connect 5s
    timeout client  30s
    timeout server  30s

# Stats for debugging
listen stats
    bind *:8404
    mode http
    stats enable
    stats uri /stats
    stats refresh 5s

frontend fe_http
    bind *:80
    default_backend be_web

# Choose one load balancing algorithm by enabling the corresponding backend
# Default: roundrobin
backend be_web
    balance roundrobin
    server web1 web-server-1:80 check
    server web2 web-server-2:80 check

# Weighted round robin example (uncomment to use, and comment the default backend above)
#backend be_web
#    balance roundrobin
#    server web1 web-server-1:80 check weight 3
#    server web2 web-server-2:80 check weight 1

# Least connection example (uncomment to use, and comment the default backend above)
#backend be_web
#    balance leastconn
#    server web1 web-server-1:80 check
#    server web2 web-server-2:80 check
